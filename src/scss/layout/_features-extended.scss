.has-animations {

	.features-extended {
		opacity: 0;
		padding-top: 32px;
	}

	&.is-loaded {

		.features-extended {
			opacity: 1;
		}
	}
}

.features-extended-header {
	margin-bottom: 32px;
}

.features-extended-wrap {
	display: flex;
	flex-wrap: wrap;
	margin-top: -24px;

	&:last-of-type {
		margin-bottom: -24px;
	}

	&:not(:last-of-type) {
		margin-bottom: 24px;
	}
}

.features-header {
	text-align: center;
	margin: 0 auto;
	margin-top: 64px;
	margin-bottom: 32px;
}

.features-description {
	max-width: 80vw;
	margin: 0 auto;
	text-align: center;
	margin-bottom: 64px;
}

.feature-extended {
    padding: 24px 0;
	padding-top: 32px;
}

.feature-extended-image {
	position: relative;
	margin-bottom: 32px;

	img,
    svg {
        width: 100%;
        max-width: 300px;
        height: auto;
        margin-left: auto;
		margin-right: auto;
        overflow: visible;

		&.bigger {
			max-width: 600px;
		}
    }
}

.video-container {
	display: none;
	border-radius: 20px;
	width: 600px; 
	height: 340px;
	overflow: hidden;
	video {
		position: relative;
		z-index: 10;
	}
}

.feature-extended-body {
    text-align: center;
	position: relative;
	z-index: 2;
	.button {
		margin-top: 16px;
	}
}

@include media( '>medium' ) {

	.hide-medium {
		display: none;
	}

    .features-extended {

		.container {
			/* image width (440) + padding (96) + text width (360) = 896 */
			max-width: 864px + ( get-content-padding(desktop) * 2 );
		}

		.section-inner {
			padding-bottom: 128px;
		}

        .section-paragraph {
            padding-left: 72px;
            padding-right: 72px;
            margin-bottom: 0;
        }
    }

	.features-extended-header {
		margin-bottom: 80px;
	}

	.features-extended-wrap {
		margin-top: -64px;

		&:last-of-type {
			margin-bottom: -64px;
		}

		&:not(:last-of-type) {
			margin-bottom: 64px;
		}
	}

    .feature-extended {
		display: flex;
		flex-wrap: nowrap;
		align-items: stretch;
		justify-content: flex-end;
        padding: 128px 0;

		.feature-extended-image {
			width: 440px;
			margin-right: 96px;
			margin-bottom: 0;

			img,
			svg {
				width: auto;

				&.device-mockup {
					max-width: 296px;
				}
			}
		}

		&:nth-child(even) {
			justify-content: flex-start;

			.feature-extended-image {
				order: 1;
				margin-left: 96px;
				margin-right: 0;
			}
		}
    }

	.feature-extended-body {
		/* Align vertically */
		display: flex;
		flex-direction: column;
		justify-content: center;
		/* Align vertically, end */
		flex-shrink: 0;
		width: 360px;
		text-align: left;
		.button {
			width: 200px;
		}
	}

	.video-container {
		display: block;
	}
}

@include media( '>large' ) {

	.features-extended {

		.container {
			/* image width (440) + padding (64) + text width (592) = 896 */
			max-width: 1096px + ( get-content-padding(desktop) * 2 );
		}
	}

	.feature-extended {

		.feature-extended-image {
			margin-right: 64px;
		}

		&:nth-child(even) {

			.feature-extended-image {
				margin-left: 64px;
			}
		}
	}

	.feature-extended-body {
		width: 592px;
	}
}

.app-icon {
	max-width: 300px;
	border-radius: 20px;
	&.pill {
		max-width: 200px;
		background: rgb(255, 255, 255);
		border-radius: 30px;
		padding: 30px;
		box-shadow: inset -10px -10px 10px rgba(70, 70, 70, 0.2), inset 10px 10px 10px rgba(70, 70, 70, 0.2);
	}
}
